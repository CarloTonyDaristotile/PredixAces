

<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/px-dropdown/px-dropdown.html">
<link rel="import" href="../../bower_components/px-dropdown/px-dropdown-content.html">
<link rel="import" href="../asset-browser/asset-browser.html">
<link rel="import" href="../seed-table/seed-table.html">
<link rel="import" href="../kpi-bar/kpi-bar.html">
<link rel="import" href="../../bower_components/px-card/px-card.html">
<link rel="import" href="../../bower_components/px-spinner/px-spinner.html">
<link rel="import" href="../../bower_components/google-map/google-map.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

<dom-module id="rmd-view">
  <style>
  :host {   
    --iron-icon-width: 16px;
    --iron-icon-height: 16px;
  }
      google-map{
          height:300px;
      }
  </style>
  <template>
      
      <iron-ajax id="ajaxRequest"
            url="https://time-series-store-predix.run.aws-usw02-pr.ice.predix.io/v1/datapoints"
            handle-as="json"
            on-response="handleResponse"
            last-response="{{data}}"
            on-error="handleResponseError"
                 method = "POST"
                 >
      </iron-ajax>
      
<google-map fit-to-marker api-key="AIzaSyD3E1D9b-Z7ekrT3tbhl_dy8DCXuIuDDRc">
  <google-map-marker latitude="37.78" longitude="-122.4" draggable="true"></google-map-marker>
</google-map>
      
      <h1>Test</h1>
      
      <px-card header-text="Card" icon="px-fea:analysis">
          <div class='actions'>
              <px-icon icon='px-nav:new-window'>              </px-icon>
              <px-icon icon='px-utl:help'>              </px-icon>
              <px-icon icon='px-utl:app-settings'>              </px-icon>
          </div>
          <p>
              This is the main content area of a Predix card.
          </p>
      </px-card>      
      
      <px-spinner size="100">
      </px-spinner>   

   
  </template>
  <script>// language="JavaScript" type="text/javascript" src="/js/jquery-1.2.6.min.js">

      
      // make a new variable A
      // store data JSON "response" object to this newly created variable A
      
      
    Polymer({
      is: 'rmd-view',
      properties: {},
        ready: function() {
            var headers = {
                "Authorization" : "bearer eyJhbGciOiJSUzI1NiIsImtpZCI6ImxlZ2FjeS10b2tlbi1rZXkiLCJ0eXAiOiJKV1QifQ.eyJqdGkiOiI0Y2RmOGM1YTBkOWM0MWFhODU3MWNhYTZhNDc2NWY2ZiIsInN1YiI6ImFwcF9jbGllbnRfaWRfMTMiLCJzY29wZSI6WyJ0aW1lc2VyaWVzLnpvbmVzLmYzZTFlZjI3LTk1NDMtNGI1ZS1hMTVmLTE4NmVlZWVhMzZkMy5pbmdlc3QiLCJ0aW1lc2VyaWVzLnpvbmVzLmYzZTFlZjI3LTk1NDMtNGI1ZS1hMTVmLTE4NmVlZWVhMzZkMy5xdWVyeSIsInRpbWVzZXJpZXMuem9uZXMuZjNlMWVmMjctOTU0My00YjVlLWExNWYtMTg2ZWVlZWEzNmQzLnVzZXIiLCJ1YWEucmVzb3VyY2UiLCJvcGVuaWQiLCJ1YWEubm9uZSIsInByZWRpeC1hc3NldC56b25lcy41OGE2ZmEzYy0yM2QyLTQzNWMtOWIzNy03YjVlZWQ0NDVjNjgudXNlciJdLCJjbGllbnRfaWQiOiJhcHBfY2xpZW50X2lkXzEzIiwiY2lkIjoiYXBwX2NsaWVudF9pZF8xMyIsImF6cCI6ImFwcF9jbGllbnRfaWRfMTMiLCJncmFudF90eXBlIjoiY2xpZW50X2NyZWRlbnRpYWxzIiwicmV2X3NpZyI6IjEzZjdjMzgyIiwiaWF0IjoxNTAxNDIwNTI5LCJleHAiOjE1MDE0NjM3MjksImlzcyI6Imh0dHBzOi8vNzdhMzg2N2ItY2NlMC00MjNkLWE4ZWMtNDQ4ZDIwNDI2OTg0LnByZWRpeC11YWEucnVuLmF3cy11c3cwMi1wci5pY2UucHJlZGl4LmlvL29hdXRoL3Rva2VuIiwiemlkIjoiNzdhMzg2N2ItY2NlMC00MjNkLWE4ZWMtNDQ4ZDIwNDI2OTg0IiwiYXVkIjpbInVhYSIsIm9wZW5pZCIsInByZWRpeC1hc3NldC56b25lcy41OGE2ZmEzYy0yM2QyLTQzNWMtOWIzNy03YjVlZWQ0NDVjNjgiLCJ0aW1lc2VyaWVzLnpvbmVzLmYzZTFlZjI3LTk1NDMtNGI1ZS1hMTVmLTE4NmVlZWVhMzZkMyIsImFwcF9jbGllbnRfaWRfMTMiXX0.RCRJk7EavJ4VkJEwIrQ4oC3ds7L_QDmWCn3ZE68VukexVSSE4tKbiHCDzIFHFOFQnC-Qms6zQOGFG7Lp01VWKXWpGXB5PcigehdHA5Th1AaGhLJ3npxi-lqco_WVRBdRPLWhI07D6ZmXVB8N0dtAesc0T6l9hBPGy2i0k6R3VJqtXLt9b0dg6oZV0wPEx1V3Q_sM9iMRbog2bPMwfCIhf_A287Uko2rSkFKrfnujVy_0hqnc-kgBAwnBRzemEQwGZr6eGy5k4g1yPXMdwCMPABjl5HewfCYEk1R-wBmThoNrAR2onDpDNHSHBkAODGc_S4hRVGmhvSUv0r3s5b6aWQ",
                "Predix-Zone-Id" : "f3e1ef27-9543-4b5e-a15f-186eeeea36d3",
                "Content-Type" : "application/json"
            }
            
            var body = {
                "tags": [
                {
                  "name": "car-gps1",
                  "order": "desc"
                }
              ],
              "start": 1501276077
            }
            
            this.$.ajaxRequest.headers = headers;
            this.$.ajaxRequest.body = body;
            console.log("here");
            this.$.ajaxRequest.generateRequest();  
        },
        handleResponse : function(){
            debugger;
        },
        handleResponseError : function(){
            debugger;
        },
      
    });
      
      ////////////////////////////////////////
      ////////////////////////////////////////
      
      

      
      ////////////////////////////////////////////
      ////////////////////////////////////////////
      
  </script>
</dom-module>
